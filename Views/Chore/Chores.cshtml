@* THIS CODE WAS GENERATED BY A TOOL (Codification) *@

@{
	ViewBag.Title = "Chores Chore List";
	ViewBag.ngApp = "App";
	ViewBag.ngController = "ChoreListController";
}

<div class="row">
	<div class="col-md-12">
		<h3>Chores</h3>
		<div id="results">
			<table class="table table-condensed table-hover table-striped table-bordered">
				<thead>
					<tr>
						<th>Name</th>
						<th>Description</th>
						<th>Frequency</th>
						<th>Last Done</th>
						<th>Due</th>
						<th>Last Done By</th>
						<th>Now For</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="r in Results" class="due-{{ r.due }}">
						<td><a href="Chore/View/{{ r.id }}">{{ r.name }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.description }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.frequency }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.lastDoneDateString }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.nextDueDateString }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.lastDonePersonName }}</a></td>
						<td><a href="Chore/View/{{ r.id }}">{{ r.nextDuePersonName }}</a></td>
						
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<br/>

<script type="text/javascript">
	"use strict";

	var app = angular.module('@ViewBag.ngApp', []);

	app.controller('@ViewBag.ngController', ['$scope', '$http',

		function ($scope, $http) {

			$scope.search = function () {
					
				var req = { method: 'GET', url: '../../api/ChoreAPI',
					headers: { 'Content-Type': 'application/json; charset=utf-8', 'Accept': 'application/json' },
					data: { }
				}
				$http(req).
					then(function (response) {
						$scope.Results = response.data;
					},
					function (response) {
					}
				);

			}
			
			$scope.search();

		}

	]);

</script>

	