//AutoPath : Views/Person/Persons.cshtml
@* THIS CODE WAS GENERATED BY A TOOL (Codification) *@

@{
	ViewBag.Title = "Chores Person List";
	ViewBag.ngApp = "App";
	ViewBag.ngController = "PersonListController";
}

<div class="row">
	<div class="col-md-12">
		<h3>People</h3>
		<div id="results">
			<table class="table table-condensed table-hover table-striped table-bordered">
				<thead>
					<tr>
						<th>Person ID</th>
						<th>Name</th>
						
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="r in Results">
						<td><a href="Person/View/{{ r.id }}">{{ r.personID }}</a></td>
						<td><a href="Person/View/{{ r.id }}">{{ r.name }}</a></td>
						
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<div class="row">	
	<div class="col-md-2">
		<input type="Button" class="btn btn-primary" onclick="window.location.href='Person/View/0'" value="New" />
	</div>
</div>

<br/>

<script type="text/javascript">
	"use strict";

	var app = angular.module('@ViewBag.ngApp', []);

	app.controller('@ViewBag.ngController', ['$scope', '$http',

		function ($scope, $http) {

			$scope.search = function () {
					
				var req = { method: 'GET', url: '../../api/PersonAPI',
					headers: { 'Content-Type': 'application/json; charset=utf-8', 'Accept': 'application/json' },
					data: { }
				}
				$http(req).
					then(function (response) {
						$scope.Results = response.data;
					},
					function (response) {
					}
				);
					
			}
			
			$scope.search();

		}

	]);

</script>

	